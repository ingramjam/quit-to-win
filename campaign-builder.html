<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kick It California - Campaign Experience</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@500;700;900&display=swap" rel="stylesheet">

    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            overflow-x: hidden;
        }
        h1, h2, h3, .font-display { font-family: 'Space Grotesk', sans-serif; }

        /* Color Palette - Vibrant & Dynamic */
        :root {
            --primary-1: #0ea5e9;
            --primary-2: #06b6d4;
            --accent-1: #ec4899;
            --accent-2: #f97316;
            --accent-3: #22c55e;
            --accent-4: #a855f7;
            --dark-1: #0f172a;
            --dark-2: #1e293b;
            --light-1: #f8fafc;
            --light-2: #e2e8f0;
        }

        .gradient-primary { background: linear-gradient(135deg, #0ea5e9 0%, #06b6d4 100%); }
        .gradient-vibrant { background: linear-gradient(135deg, #ec4899 0%, #f97316 100%); }
        .gradient-success { background: linear-gradient(135deg, #22c55e 0%, #10b981 100%); }
        .gradient-purple { background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%); }
        
        .shimmer {
            background: linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%);
            background-size: 200% 100%;
            animation: shimmer 3s infinite;
        }
        @keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

        .stat-box {
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.1) 0%, rgba(236, 72, 153, 0.1) 100%);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card-hover { transition: all 0.3s ease; cursor: pointer; }
        .card-hover:hover { transform: translateY(-8px); box-shadow: 0 20px 40px -10px rgba(0,0,0,0.2); }

        .pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
        @keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 20px rgba(14, 165, 233, 0.3); } 50% { box-shadow: 0 0 40px rgba(14, 165, 233, 0.6); } }

        .slide-up { animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1); }
        @keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }

        .gradient-text {
            background: linear-gradient(135deg, #0ea5e9 0%, #ec4899 50%, #f97316 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .icon-gradient {
            background: linear-gradient(135deg, #0ea5e9 0%, #06b6d4 50%, #ec4899 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .tab-active {
            border-bottom: 3px solid;
            border-image: linear-gradient(90deg, #0ea5e9 0%, #ec4899 100%) 1;
        }

        /* Supportive Theme (Calming, Teal, Organic) */
        .theme-supportive {
            --bg-primary: #f0fdfa;
            --bg-secondary: #ccfbf1;
            --accent-main: #14b8a6;
            --accent-glow: #2dd4bf;
            --text-main: #134e4a;
            --card-bg: rgba(255, 255, 255, 0.95);
            --btn-grad: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%);
        }

        /* Health/Urgent Theme (Medical, Alert, Red/White) */
        .theme-health {
            --bg-primary: #fff1f2;
            --bg-secondary: #ffe4e6;
            --accent-main: #e11d48;
            --accent-glow: #f43f5e;
            --text-main: #881337;
            --card-bg: rgba(255, 255, 255, 0.9);
            --btn-grad: linear-gradient(135deg, #e11d48 0%, #be123c 100%);
        }

        /* Base Styles using Variables */
        .app-container {
            background-color: var(--bg-primary);
            color: var(--text-main);
        }
        .card-dynamic {
            background-color: var(--card-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--accent-main);
            box-shadow: 0 10px 40px -10px rgba(0,0,0,0.1);
            transition: all 0.5s ease;
        }
        .text-accent { color: var(--accent-main); }
        .border-accent { border-color: var(--accent-main); }
        .bg-accent { background-color: var(--accent-main); }
        
        .btn-dynamic {
            background: var(--btn-grad);
            color: white;
            box-shadow: 0 4px 15px -3px var(--accent-main);
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .btn-dynamic:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 10px 25px -5px var(--accent-glow);
        }

        /* Parallax Backgrounds */
        .parallax-blobs {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }
        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.4;
            transition: background 1s ease;
        }
        .blob-1 { top: -10%; left: -10%; width: 50vw; height: 50vw; background: var(--accent-main); animation: float 10s infinite ease-in-out; }
        .blob-2 { bottom: -10%; right: -10%; width: 40vw; height: 40vw; background: var(--accent-glow); animation: float 15s infinite ease-in-out reverse; }
        
        @keyframes float {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(30px, 50px); }
        }

        /* Custom Slider */
        input[type=range] { -webkit-appearance: none; background: transparent; }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 28px; width: 28px; border-radius: 50%;
            cursor: pointer; margin-top: -12px;
            background: var(--accent-main); border: 4px solid white;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.3);
            transition: transform 0.1s;
        }
        input[type=range]::-webkit-slider-thumb:hover { transform: scale(1.1); }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 6px; cursor: pointer; border-radius: 3px; 
            background: rgba(128,128,128,0.3);
        }

        .fade-in-up { animation: fadeInUp 0.7s cubic-bezier(0.16, 1, 0.3, 1); }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        .page-transition {
            animation: pageSlideIn 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }
        @keyframes pageSlideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // --- ICONS ---
        const IconCheck = () => <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="3" d="M5 13l4 4L19 7"></path></svg>;
        const IconHeart = () => <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>;
        const IconPhone = () => <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>;
        const IconChat = () => <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>;
        const IconApp = () => <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>;
        const IconTarget = () => <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" strokeWidth="2"></circle><circle cx="12" cy="12" r="6" strokeWidth="2"></circle><circle cx="12" cy="12" r="2" fill="currentColor"></circle></svg>;
        const IconPlay = () => <svg className="w-12 h-12 text-white/90" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>;
        const IconClose = () => <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12"></path></svg>;
        const IconInfo = () => <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>;
        const IconArrow = () => <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 5l7 7-7 7"></path></svg>;
        const IconBolt = () => <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M11.3 1.046A1 1 0 0010 2v5H4a1 1 0 00-.82 1.573l6.92 8.4a1 1 0 001.82-.126V13h6a1 1 0 00.82-1.573l-6.92-8.4z"></path></svg>;
        const IconCalendar = () => <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>;
        const IconTrophy = () => <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path></svg>;
        const IconUsers = () => <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-2a6 6 0 0112 0v2zm6-14a4 4 0 100 8 4 4 0 000-8zm-3 13h6"></path></svg>;
        const IconHome = () => <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3 12l2-3m0 0l7-4 7 4M5 9v10a1 1 0 001 1h12a1 1 0 001-1V9m-9 11l4-4m0 0l4 4m-4-4v4"></path></svg>;

        // --- DEEP CONTENT DATA ---
        const PRODUCT_DATA = {
            vape: {
                label: "Vaping",
                avgCost: 8, 
                emoji: "üå¨Ô∏è",
                goalItem: "Freedom Fund",
                goalPrice: 2000,
                icon: "‚ö°",
                facts: {
                    freedom: { headline: "Freedom is the Ultimate Flex.", subhead: "Anxiety spikes? Brain fog? That's the vape talking. Take back your focus and your cash." },
                    resolution: { headline: "New Year. No Vape.", subhead: "Reset your stats. Level up your lung capacity and your bank account." },
                    health: { headline: "Don't Let Vaping Glitch Your Health.", subhead: "It's not just water vapor. It's aerosolized chemicals affecting your heart and lungs right now." },
                    supportive: { headline: "You Don't Have to Do This Alone.", subhead: "Quitting is hard. We make it easier with tools that actually work." }
                },
                timeline: [
                    { time: "20 Mins", benefit: "Heart rate drops to normal levels." },
                    { time: "3 Days", benefit: "Nicotine is 100% out of your system." },
                    { time: "2 Weeks", benefit: "Lung function improves. Workouts get easier." },
                    { time: "1 Month", benefit: "Anxiety and cravings significantly reduce." }
                ],
                didYouKnow: "One Juul pod contains as much nicotine as 20 cigarettes. Vapes also contain acrolein, a herbicide primarily used to kill weeds.",
                whyItMatters: "Vapes deliver massive doses of nicotine, rewiring your brain to crave more. This creates a cycle of withdrawal-induced anxiety that mimics stress relief. Breaking the cycle isn't just about physical health‚Äîit's about regaining your mental independence.",
                testimonial: "\"I realized I was planning my whole day around my vape. Quitting gave me my time back.\" - Marcus, 22"
            },
            cigs: {
                label: "Cigarettes",
                avgCost: 11,
                emoji: "üö¨",
                goalItem: "Dream Trip",
                goalPrice: 4000,
                icon: "üí®",
                facts: {
                    freedom: { headline: "Break Free for Good.", subhead: "Imagine the relief of finally not needing that next cigarette to function." },
                    resolution: { headline: "Your Fresh Start Starts Now.", subhead: "The body has an amazing ability to heal. Give it the chance this year." },
                    health: { headline: "Reclaim Your Breath & Legacy.", subhead: "Reverse the damage. Be there for the moments that matter most." },
                    supportive: { headline: "We've Helped 1 Million Californians.", subhead: "Our coaches understand the struggle because they've helped thousands overcome it." }
                },
                timeline: [
                    { time: "20 Mins", benefit: "Blood pressure and pulse drop to normal." },
                    { time: "1 Day", benefit: "Carbon monoxide levels in blood normalize." },
                    { time: "1 Month", benefit: "Lung function and circulation improve by 10-30%." },
                    { time: "1 Year", benefit: "Risk of heart disease is cut in half." }
                ],
                didYouKnow: "Cigarette smoke contains over 7,000 chemicals, including 69 known to cause cancer. Your body starts repairing that damage within 20 minutes of your last puff.",
                whyItMatters: "Every cigarette you don't smoke is a win. Long-term smoking restricts blood flow, ages your skin, and damages nearly every organ. But the recovery is real: within weeks of quitting, your circulation improves, walking gets easier, and your risk of heart attack begins to drop.",
                testimonial: "\"I smoked for 20 years. I didn't think I could quit until I actually tried. The patches helped.\" - Linda, 47"
            },
            weed: {
                label: "Marijuana",
                avgCost: 15,
                emoji: "üåø",
                goalItem: "New Car",
                goalPrice: 5000,
                icon: "üçÉ",
                facts: {
                    freedom: { headline: "Clear the Haze.", subhead: "Sharpen your mind. Dominate your goals. Don't let the fog hold you back." },
                    resolution: { headline: "New Year. New Clarity.", subhead: "Step into 2025 with a clear head and a full wallet." },
                    health: { headline: "Protect Your Mind & Lungs.", subhead: "Smoke is smoke. Give your lungs a break and your brain a boost." },
                    supportive: { headline: "Judgement-Free Support.", subhead: "We know weed is different. Our coaches get it and are here to help you reset." }
                },
                timeline: [
                    { time: "24 Hours", benefit: "Oxygen levels in blood increase." },
                    { time: "1 Week", benefit: "Sleep patterns begin to normalize naturally." },
                    { time: "2 Weeks", benefit: "Motivation and energy levels rise noticeably." },
                    { time: "1 Month", benefit: "Memory, focus, and mental clarity improve significantly." }
                ],
                didYouKnow: "Marijuana smoke contains many of the same toxins, irritants, and carcinogens as tobacco smoke. Daily use can affect memory, learning, and impulse control.",
                whyItMatters: "Regular marijuana use can affect memory, learning, and impulse control, especially in developing brains (up to age 25). Quitting clears the mental fog, stabilizes your mood, and puts you back in the driver's seat of your life.",
                testimonial: "\"I didn't realize how much brain fog I had until it was gone. I'm sharper than ever.\" - Devon, 26"
            },
            pouch: {
                label: "Pouches/Chew",
                avgCost: 6,
                emoji: "ü¶∑",
                goalItem: "Investment",
                goalPrice: 2000,
                icon: "üí™",
                facts: {
                    freedom: { headline: "Spit Out the Habit.", subhead: "No more hiding cans. No more checking your teeth. Just freedom." },
                    resolution: { headline: "Chew on This: A Fresh Start.", subhead: "Save your smile and your money in 2025." },
                    health: { headline: "Save Your Smile.", subhead: "Protect your gums, teeth, and heart from the damage of smokeless tobacco." },
                    supportive: { headline: "Quit Without the Dip.", subhead: "We have specific protocols to help smokeless users quit for good." }
                },
                timeline: [
                    { time: "1 Week", benefit: "Sense of taste and smell improve." },
                    { time: "2 Weeks", benefit: "Gum tissue begins to heal and firm up." },
                    { time: "1 Month", benefit: "Mouth sores and white spots start to disappear." },
                    { time: "1 Year", benefit: "Heart disease risk drops significantly." }
                ],
                didYouKnow: "Holding an average-sized dip in your mouth for 30 minutes gives you as much nicotine as smoking 3-4 cigarettes. It's a high-dose addiction.",
                whyItMatters: "Smokeless tobacco isn't a safe alternative. It delivers huge amounts of nicotine and abrasive chemicals that cause gum recession, tooth loss, and oral cancers. Quitting preserves your smile and drastically lowers your heart risk.",
                testimonial: "\"My dentist noticed the difference in my gums after just a month. It was worth it.\" - Jason, 34"
            }
        };

        const CAMPAIGNS = {
            "18-29": { label: "18-29", strategies: ["Freedom", "Resolution", "Supportive"] },
            "30-45": { label: "30-45", strategies: ["Freedom", "Resolution", "Health"] },
            "45+":   { label: "45+",   strategies: ["Freedom", "Resolution", "Health"] }
        };

        const MILESTONES = [
            { days: 3, title: "3 Days Nicotine-Free", reward: "Mental Clarity Boost" },
            { days: 7, title: "One Week Champion", reward: "Save $8-15" },
            { days: 30, title: "One Month Success", reward: "Save $240-450" },
            { days: 100, title: "100 Days Strong", reward: "Save $800-1500" }
        ];

        // --- PAGE COMPONENTS ---

        const HomePage = ({ onNavigate, setAgeGroup, setStrategy, setProductKey, ageGroup, strategy, productKey }) => (
            <div className="page-transition max-w-7xl mx-auto px-6 py-12">
                <div className="text-center mb-16">
                    <span className="inline-block px-4 py-1.5 text-xs font-bold uppercase tracking-widest text-accent bg-accent bg-opacity-10 rounded-full border border-accent/20 mb-6">
                        Free Quit Support for All Californians
                    </span>
                    <h1 className="text-6xl md:text-7xl font-bold tracking-tight leading-[1.1] mb-6">Your Path to Quit Starts Here</h1>
                    <p className="text-xl opacity-80 max-w-2xl mx-auto mb-12">
                        Science-based programs tailored to your age, lifestyle, and quit goals. Join 1 million+ Californians who've already quit.
                    </p>
                </div>

                <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16">
                    {[
                        { icon: <IconBolt/>, title: "Fast Results", desc: "See changes in days, not months" },
                        { icon: <IconUsers/>, title: "Real Coaches", desc: "Talk to people who've been there" },
                        { icon: <IconTrophy/>, title: "Proven Methods", desc: "2x more likely to succeed" }
                    ].map((s, i) => (
                        <div key={i} className="card-dynamic p-8 rounded-2xl text-center">
                            <div className="text-accent mb-4 flex justify-center">{s.icon}</div>
                            <h3 className="font-bold text-lg mb-2">{s.title}</h3>
                            <p className="text-sm opacity-70">{s.desc}</p>
                        </div>
                    ))}
                </div>

                <div className="text-center">
                    <button 
                        onClick={() => onNavigate('calculator')}
                        className="btn-dynamic px-10 py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all inline-flex items-center gap-2">
                        Start Your Campaign <IconArrow />
                    </button>
                </div>
            </div>
        );

        const CalculatorPage = ({ onNavigate, ageGroup, setAgeGroup, strategy, setStrategy, productKey, setProductKey, spend, setSpend }) => {
            const currentCampaign = CAMPAIGNS[ageGroup];
            const safeStrategy = currentCampaign.strategies.includes(strategy) ? strategy : currentCampaign.strategies[0];
            const productContent = PRODUCT_DATA[productKey];
            
            const contentKey = safeStrategy.toLowerCase();
            const textContent = productContent.facts[contentKey] || productContent.facts["freedom"];

            const handleProductChange = (key) => {
                setProductKey(key);
                setSpend(PRODUCT_DATA[key].avgCost);
            };

            const yearlySavings = spend * 365;
            const progress = Math.min((yearlySavings / productContent.goalPrice) * 100, 100);

            return (
                <div className="page-transition">
                    {/* Strategy Navigation */}
                    <div className="sticky top-[73px] z-30 py-4 px-6 backdrop-blur-sm border-b border-accent/10 mb-12">
                        <div className="max-w-6xl mx-auto flex justify-center gap-3 flex-wrap">
                            {currentCampaign.strategies.map(key => (
                                <button key={key} onClick={() => setStrategy(key)} className={`px-5 py-2 text-sm font-semibold rounded-xl border-2 transition-all ${safeStrategy === key ? 'border-accent bg-accent text-white shadow-lg' : 'border-accent/30 hover:bg-accent/10'}`}>
                                    {key} Focus
                                </button>
                            ))}
                        </div>
                    </div>

                    <div className="max-w-7xl mx-auto px-6">
                        {/* Hero Section */}
                        <header className="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center mb-20 fade-in-up">
                            <div className="space-y-8">
                                <h1 className="text-5xl md:text-6xl font-bold tracking-tight leading-[1.1]">
                                    {textContent.headline}
                                </h1>
                                <p className="text-xl opacity-80 leading-relaxed max-w-lg font-light">
                                    {textContent.subhead}
                                </p>
                                <div className="pt-6">
                                    <p className="text-xs font-bold opacity-50 uppercase tracking-widest mb-3">Select Your Product:</p>
                                    <div className="flex gap-3 flex-wrap">
                                        {Object.entries(PRODUCT_DATA).map(([key, data]) => (
                                            <button key={key} onClick={() => handleProductChange(key)} className={`px-6 py-3 text-sm font-bold rounded-xl border-2 transition-all ${productKey === key ? 'border-accent bg-accent text-white shadow-lg' : 'card-dynamic hover:border-accent'}`}>
                                                {data.label}
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            </div>

                            <div className="relative aspect-video card-dynamic rounded-3xl overflow-hidden shadow-2xl border-4 border-white/50 cursor-pointer group">
                                <div className="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex flex-col justify-end p-8 z-10">
                                    <h3 className="text-white font-bold text-2xl">Why Quitting Matters</h3>
                                </div>
                                <div className="absolute inset-0 flex items-center justify-center z-10">
                                    <div className="w-20 h-20 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center group-hover:scale-110 transition-transform border border-white/30"><IconPlay /></div>
                                </div>
                                <div className="w-full h-full bg-accent/10 flex items-center justify-center text-accent text-9xl opacity-20">{productContent.emoji}</div>
                            </div>
                        </header>

                        {/* Calculator Section */}
                        <section className="card-dynamic p-8 md:p-12 rounded-3xl mb-20 relative overflow-hidden">
                            <div className="absolute top-0 right-0 w-1/3 h-full bg-accent opacity-10 skew-x-12 transform translate-x-20"></div>
                            <div className="relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                                <div>
                                    <h2 className="text-3xl font-bold mb-2">Cost Calculator</h2>
                                    <p className="opacity-70 mb-8">See how much {productContent.label} is costing you per year.</p>
                                    
                                    <div className="bg-white/50 p-6 rounded-2xl border border-accent mb-8 backdrop-blur-sm">
                                        <div className="flex justify-between items-end mb-4">
                                            <label className="text-xs font-bold opacity-60 uppercase tracking-widest">Daily Spend</label>
                                            <span className="text-5xl font-bold text-accent">${spend}</span>
                                        </div>
                                        <input type="range" min="1" max="50" value={spend} onChange={(e) => setSpend(Number(e.target.value))} className="w-full" />
                                    </div>
                                </div>

                                <div className="bg-white text-gray-900 p-8 rounded-2xl shadow-xl flex flex-col justify-between h-full">
                                    <div>
                                        <div className="flex items-center justify-between mb-6">
                                            <h3 className="font-bold text-lg text-accent">Potential Savings</h3>
                                            <span className="text-4xl">{productContent.emoji}</span>
                                        </div>
                                        <div className="mb-4">
                                            <div className="text-5xl font-bold tracking-tight mb-2">${Math.round(yearlySavings).toLocaleString()}</div>
                                            <div className="text-sm opacity-60 font-medium">PER YEAR</div>
                                        </div>
                                        <p className="text-sm opacity-80 leading-relaxed mb-6">
                                            That's enough for a <strong className="text-accent">{productContent.goalItem}</strong> in just <strong>{Math.ceil(productContent.goalPrice / spend)} days</strong>.
                                        </p>
                                    </div>
                                    
                                    <div className="space-y-2">
                                        <div className="flex justify-between text-xs font-bold opacity-50 uppercase tracking-widest">
                                            <span>Goal Progress</span><span>{Math.round(progress)}%</span>
                                        </div>
                                        <div className="w-full h-3 bg-gray-100 rounded-full overflow-hidden">
                                            <div className="h-full bg-accent transition-all duration-1000 ease-out" style={{width: `${progress}%`}}></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        {/* Health Deep Dive */}
                        <section className="py-12 mb-20">
                            <div className="grid grid-cols-1 md:grid-cols-12 gap-16">
                                <div className="md:col-span-5">
                                    <h3 className="text-3xl font-bold mb-6">Why It Matters</h3>
                                    <p className="opacity-80 mb-10 leading-relaxed">{productContent.whyItMatters}</p>
                                    <div className="bg-accent bg-opacity-10 p-6 rounded-2xl border border-accent mb-8">
                                        <div className="flex items-center gap-3 mb-3 text-accent font-bold">
                                            <IconInfo /> Did You Know?
                                        </div>
                                        <p className="opacity-90 text-sm leading-relaxed">{productContent.didYouKnow}</p>
                                    </div>
                                    <div className="card-dynamic p-8 rounded-2xl">
                                        <p className="text-lg font-medium italic mb-4 opacity-90">{productContent.testimonial}</p>
                                    </div>
                                </div>
                                <div className="md:col-span-7">
                                    <h3 className="text-3xl font-bold mb-8 flex items-center gap-3">
                                        <span className="p-2 bg-accent bg-opacity-20 text-accent rounded-xl"><IconHeart/></span>
                                        Recovery Timeline
                                    </h3>
                                    <div className="space-y-4">
                                        {productContent.timeline.map((item, i) => (
                                            <div key={i} className="flex gap-6 group card-dynamic p-6 rounded-2xl hover:border-accent transition-all">
                                                <div className="flex flex-col items-center justify-center w-16 shrink-0">
                                                    <div className="w-10 h-10 rounded-full bg-accent text-white font-bold flex items-center justify-center text-sm shadow-md">
                                                        {i + 1}
                                                    </div>
                                                </div>
                                                <div>
                                                    <div className="text-sm font-bold text-accent uppercase tracking-wider mb-1">{item.time}</div>
                                                    <div className="text-lg font-medium opacity-90">{item.benefit}</div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </section>

                        {/* CTA Section */}
                        <section className="bg-gradient-to-br from-accent/20 to-accent/10 border-2 border-accent p-12 rounded-3xl mb-20 text-center">
                            <h2 className="text-3xl font-bold mb-4">Ready to Quit?</h2>
                            <p className="opacity-80 max-w-2xl mx-auto mb-8">Join our program today and get matched with the right tools and support for your journey.</p>
                            <button onClick={() => onNavigate('resources')} className="btn-dynamic px-8 py-4 rounded-xl font-bold text-lg inline-flex items-center gap-2">
                                Explore Your Resources <IconArrow />
                            </button>
                        </section>
                    </div>
                </div>
            );
        };

        const ResourcesPage = ({ onNavigate }) => (
            <div className="page-transition max-w-7xl mx-auto px-6 py-12">
                <h1 className="text-5xl font-bold mb-12">Your Quit Toolkit</h1>
                
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-20">
                    {[
                        { title: "Mobile App", sub: "Track progress, get daily tips", icon: <IconApp/>, btn: "Download Now" },
                        { title: "Text Program", sub: "7 days/week motivation", icon: <IconChat/>, btn: "Text QUIT to 66819" },
                        { title: "Talk to a Coach", sub: "1-on-1 personalized strategy", icon: <IconPhone/>, btn: "1-800-300-8086" },
                        { title: "Free Patches", sub: "Delivered to your door", icon: <IconTarget/>, btn: "Check Eligibility" }
                    ].map((s, i) => (
                        <div key={i} className="card-dynamic p-8 rounded-2xl hover:-translate-y-2 hover:shadow-xl transition-all group text-center cursor-pointer">
                            <div className="w-14 h-14 bg-accent/10 rounded-full flex items-center justify-center mx-auto mb-6 text-accent group-hover:bg-accent group-hover:text-white transition-colors text-2xl">{s.icon}</div>
                            <h3 className="font-bold text-lg mb-2">{s.title}</h3>
                            <p className="text-sm opacity-60 mb-6">{s.sub}</p>
                            <a href="https://kicform.org/kick-it-2" target="_blank" className="text-sm font-bold text-accent group-hover:underline flex items-center justify-center gap-1">{s.btn} <IconArrow/></a>
                        </div>
                    ))}
                </div>

                <div className="grid grid-cols-1 md:grid-cols-2 gap-12 mb-20">
                    {/* Progress Tracking */}
                    <div className="card-dynamic p-8 rounded-2xl">
                        <h2 className="text-2xl font-bold mb-6 flex items-center gap-2"><IconCalendar /> Milestones Ahead</h2>
                        <div className="space-y-4">
                            {MILESTONES.map((m, i) => (
                                <div key={i} className="flex items-start gap-4 p-4 bg-white/50 rounded-lg">
                                    <div className="text-accent font-bold text-sm w-12 shrink-0">{m.days}d</div>
                                    <div>
                                        <div className="font-bold">{m.title}</div>
                                        <div className="text-sm opacity-60">{m.reward}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Community */}
                    <div className="card-dynamic p-8 rounded-2xl">
                        <h2 className="text-2xl font-bold mb-6 flex items-center gap-2"><IconUsers /> Community Support</h2>
                        <p className="opacity-80 mb-6">You're not alone. Join 1 million+ Californians who've quit and connect with people on their own journey.</p>
                        <div className="space-y-3">
                            <div className="text-sm">‚úì Share daily wins with your group</div>
                            <div className="text-sm">‚úì Get tips from people who've succeeded</div>
                            <div className="text-sm">‚úì Celebrate milestones together</div>
                        </div>
                        <button className="btn-dynamic w-full mt-6 py-3 rounded-lg font-bold">Join the Community</button>
                    </div>
                </div>

                <div className="text-center">
                    <button 
                        onClick={() => onNavigate('home')}
                        className="text-accent font-bold hover:underline flex items-center justify-center gap-2 mx-auto">
                        ‚Üê Back to Home
                    </button>
                </div>
            </div>
        );

        // --- MAIN APP ---
        const App = () => {
            const [currentPage, setCurrentPage] = React.useState('home');
            const [ageGroup, setAgeGroup] = React.useState("18-29");
            const [strategy, setStrategy] = React.useState("Freedom");
            const [productKey, setProductKey] = React.useState("vape");
            const [spend, setSpend] = React.useState(PRODUCT_DATA["vape"].avgCost);

            const themeClass = `theme-${strategy.toLowerCase()}`;

            const pageProps = {
                onNavigate: setCurrentPage,
                setAgeGroup, setStrategy, setProductKey,
                ageGroup, strategy, productKey, spend, setSpend
            };

            return (
                <div className={`min-h-screen pb-32 app-container ${themeClass}`}>
                    
                    {/* Parallax Blobs */}
                    <div className="parallax-blobs">
                        <div className="blob blob-1"></div>
                        <div className="blob blob-2"></div>
                    </div>

                    <div className="relative z-10">
                        {/* Sticky Nav */}
                        <nav className="card-dynamic border-b-0 shadow-sm sticky top-0 z-40 rounded-none bg-opacity-80">
                            <div className="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center">
                                <button onClick={() => setCurrentPage('home')} className="font-bold text-xl tracking-tighter cursor-pointer hover:opacity-80 transition">
                                    Kick It <span className="text-accent">CA</span>
                                </button>
                                <div className="hidden md:flex items-center gap-2">
                                    {Object.keys(CAMPAIGNS).map(key => (
                                        <button key={key} onClick={() => {setAgeGroup(key); setCurrentPage('calculator');}} className={`px-4 py-1.5 text-sm font-bold rounded-full transition-all ${ageGroup === key ? 'btn-dynamic shadow-md' : 'opacity-60 hover:opacity-100'}`}>
                                            {CAMPAIGNS[key].label}
                                        </button>
                                    ))}
                                </div>
                                <div className="flex gap-3">
                                    <button onClick={() => setCurrentPage('calculator')} className="text-sm font-bold text-accent opacity-60 hover:opacity-100 transition">Calculator</button>
                                    <button onClick={() => setCurrentPage('resources')} className="text-sm font-bold text-accent opacity-60 hover:opacity-100 transition">Resources</button>
                                </div>
                            </div>
                        </nav>

                        {/* Page Content */}
                        {currentPage === 'home' && <HomePage {...pageProps} />}
                        {currentPage === 'calculator' && <CalculatorPage {...pageProps} />}
                        {currentPage === 'resources' && <ResourcesPage {...pageProps} />}

                        {/* Footer */}
                        <footer className="py-12 text-center opacity-60 text-sm mt-12 border-t border-accent/10">
                            <div className="max-w-4xl mx-auto px-6">
                                <p className="mb-2">Kick It California is a free program of UC San Diego.</p>
                                <p>¬© 2025 Regents of the University of California. | Quit Support for All Californians.</p>
                            </div>
                        </footer>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
